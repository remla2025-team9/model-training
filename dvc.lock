schema: '2.0'
stages:
  prepare:
    cmd: python -m src.features
    deps:
    - path: data/raw/training_data.tsv
      hash: md5
      md5: 8104bfc2f44d60939e1fd3208a187500
      size: 55587
    - path: src/features.py
      hash: md5
      md5: 5d8d8ee53d794511717ba0757fc25d60
      size: 5218
    params:
      params.yaml:
        prepare.test_size: 0.2
    outs:
    - path: data/processed/test_features.npz
      hash: md5
      md5: 0bca05c7a9b538f78ddc0ec3ad6b4dc4
      size: 3162
    - path: data/processed/test_labels.csv
      hash: md5
      md5: 92a45bf68e001776dba101734d7f91cb
      size: 366
    - path: data/processed/train_features.npz
      hash: md5
      md5: 0f10b9960651fb0cc737eb9ae8670c57
      size: 8882
    - path: data/processed/train_labels.csv
      hash: md5
      md5: c9da4f76457a0c28a2eeef9ff2ba55d4
      size: 1446
    - path: vectorizers/vectorizer.joblib
      hash: md5
      md5: 2a8d659ad22a2c978e61316ea4799952
      size: 25777
  train:
    cmd: python -m src.modeling.train --model_type logistic
    deps:
    - path: data/processed/train_features.npz
      hash: md5
      md5: 0f10b9960651fb0cc737eb9ae8670c57
      size: 8882
    - path: data/processed/train_labels.csv
      hash: md5
      md5: c9da4f76457a0c28a2eeef9ff2ba55d4
      size: 1446
    - path: src/modeling/train.py
      hash: md5
      md5: a3857835c5886f8e2eeb955e049b82e1
      size: 2326
    outs:
    - path: models/model.joblib
      hash: md5
      md5: bc813431c8f73669d3bc6b80b3be329b
      size: 7951
  evaluate:
    cmd: python -m src.modeling.predict --model_path models/model.joblib
    deps:
    - path: data/processed/test_features.npz
      hash: md5
      md5: 0bca05c7a9b538f78ddc0ec3ad6b4dc4
      size: 3162
    - path: data/processed/test_labels.csv
      hash: md5
      md5: 92a45bf68e001776dba101734d7f91cb
      size: 366
    - path: models/model.joblib
      hash: md5
      md5: bc813431c8f73669d3bc6b80b3be329b
      size: 7951
    - path: src/modeling/predict.py
      hash: md5
      md5: 7f67b7c7f1baa0a4611dad3f21e186ad
      size: 3363
    outs:
    - path: reports/evaluation_metrics.json
      hash: md5
      md5: 0ba1ffd28ffbfd89e3e85c7e123eb9e8
      size: 1138
  load_data:
    cmd: python -m src.dataset
    deps:
    - path: src/dataset.py
      hash: md5
      md5: 38153cc4abe67041bc4c852ca0e550b5
      size: 1692
    outs:
    - path: data/raw/training_data.tsv
      hash: md5
      md5: 8104bfc2f44d60939e1fd3208a187500
      size: 55587
